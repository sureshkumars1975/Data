<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brain Tumor Deep Learning Detection & Classification</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #1e3c72;
            --secondary: #2a5298;
            --accent: #ff6b6b;
            --success: #51cf66;
            --warning: #ffd43b;
            --danger: #f03e3e;
            --info: #74c0fc;
            --dark: #2d3436;
            --muted: #636e72;
            --light: #f8f9fa;
            --bg: #ffffff;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--dark);
            background-color: var(--light);
            overflow-x: hidden;
        }

        /* Header Styling */
        .header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 3rem 2rem;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.95;
        }

        /* Tab Navigation */
        .tab-container {
            background: white;
            border-bottom: 3px solid var(--primary);
            overflow-x: auto;
            display: flex;
            padding: 0;
            position: sticky;
            top: 140px;
            z-index: 99;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .tab-btn {
            background: white;
            border: none;
            padding: 1rem 1.5rem;
            font-size: 1rem;
            cursor: pointer;
            color: var(--muted);
            font-weight: 600;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            white-space: nowrap;
            flex-shrink: 0;
        }

        .tab-btn:hover {
            color: var(--primary);
            background-color: var(--light);
        }

        .tab-btn.active {
            color: white;
            background: var(--primary);
            border-bottom-color: var(--accent);
        }

        /* Content Areas */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Cards and Sections */
        .card {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border-left: 5px solid var(--primary);
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.12);
        }

        .card h3 {
            color: var(--primary);
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .card p {
            color: var(--dark);
            margin-bottom: 0.8rem;
        }

        /* Grid Layouts */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .grid-item {
            background: linear-gradient(135deg, rgba(30,60,114,0.05) 0%, rgba(42,82,152,0.05) 100%);
            padding: 1.5rem;
            border-radius: 8px;
            border: 2px solid var(--primary);
        }

        .grid-item h4 {
            color: var(--primary);
            margin-bottom: 0.8rem;
        }

        /* Badges */
        .badge {
            display: inline-block;
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .badge-primary { background: var(--primary); color: white; }
        .badge-success { background: var(--success); color: white; }
        .badge-warning { background: var(--warning); color: var(--dark); }
        .badge-danger { background: var(--danger); color: white; }
        .badge-info { background: var(--info); color: white; }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1.5rem;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        thead {
            background: var(--primary);
            color: white;
        }

        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }

        tr:hover {
            background-color: var(--light);
        }

        tbody tr:last-child td {
            border-bottom: none;
        }

        /* Algorithm Box */
        .algorithm-box {
            background: linear-gradient(135deg, rgba(74,192,252,0.1) 0%, rgba(81,207,102,0.1) 100%);
            border-left: 5px solid var(--info);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border-radius: 8px;
        }

        .algorithm-box h4 {
            color: var(--primary);
            margin-bottom: 0.8rem;
        }

        .algorithm-box ul {
            margin-left: 2rem;
            color: var(--dark);
        }

        .algorithm-box li {
            margin-bottom: 0.5rem;
        }

        /* Demo App */
        .demo-section {
            background: white;
            border-radius: 8px;
            padding: 2rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .demo-section h3 {
            color: var(--primary);
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--primary);
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid var(--primary);
            border-radius: 6px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 8px rgba(255,107,107,0.2);
        }

        .btn {
            background: var(--primary);
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-block;
            margin-right: 0.5rem;
        }

        .btn:hover {
            background: var(--secondary);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .btn-success {
            background: var(--success);
        }

        .btn-success:hover {
            background: #40c057;
        }

        .btn-danger {
            background: var(--danger);
        }

        .btn-danger:hover {
            background: #e03131;
        }

        /* Output Section */
        .output-section {
            background: var(--light);
            border: 2px solid var(--primary);
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 2rem;
            display: none;
        }

        .output-section.show {
            display: block;
            animation: slideDown 0.5s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result-box {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 1rem;
            border-left: 5px solid var(--success);
        }

        .result-box.error {
            border-left-color: var(--danger);
            background: linear-gradient(135deg, rgba(240,62,62,0.05) 0%, rgba(255,107,107,0.05) 100%);
        }

        .confidence-bar {
            width: 100%;
            height: 30px;
            background: #e0e0e0;
            border-radius: 15px;
            overflow: hidden;
            margin: 0.5rem 0;
        }

        .confidence-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--success) 0%, var(--warning) 50%, var(--danger) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 0.85rem;
        }

        /* Comparison Table */
        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .comparison-card {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            border-top: 4px solid var(--primary);
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .comparison-card h4 {
            color: var(--primary);
            margin-bottom: 1rem;
            border-bottom: 2px solid var(--light);
            padding-bottom: 0.5rem;
        }

        .metric {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid var(--light);
        }

        .metric:last-child {
            border-bottom: none;
        }

        .metric-label {
            font-weight: 600;
            color: var(--muted);
        }

        .metric-value {
            color: var(--primary);
            font-weight: 700;
        }

        /* Workflow Diagram */
        .workflow {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1.5rem;
            justify-content: space-between;
            align-items: center;
        }

        .workflow-step {
            flex: 1;
            min-width: 150px;
            background: white;
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
            border: 3px solid var(--primary);
            font-weight: 600;
            color: var(--primary);
            position: relative;
        }

        .workflow-step::after {
            content: '‚Üí';
            position: absolute;
            right: -1.8rem;
            font-size: 1.5rem;
            color: var(--primary);
        }

        .workflow-step:last-child::after {
            content: '';
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }

            .container {
                padding: 1rem;
            }

            .tab-btn {
                padding: 0.75rem 1rem;
                font-size: 0.9rem;
            }

            .grid {
                grid-template-columns: 1fr;
            }

            .comparison-grid {
                grid-template-columns: 1fr;
            }

            .workflow {
                flex-direction: column;
            }

            .workflow-step::after {
                content: '‚Üì';
                position: static;
                display: block;
                margin: 0.5rem 0;
            }

            table {
                font-size: 0.9rem;
            }

            th, td {
                padding: 0.75rem;
            }
        }

        @media (max-width: 700px) {
            .header {
                padding: 2rem 1rem;
            }

            .tab-container {
                top: 110px;
            }

            .header h1 {
                font-size: 1.5rem;
            }

            .header p {
                font-size: 0.95rem;
            }
        }

        /* Loading Animation */
        .spinner {
            border: 4px solid var(--light);
            border-top: 4px solid var(--primary);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 1rem auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Feature Highlights */
        .feature-list {
            list-style: none;
            padding: 0;
        }

        .feature-list li {
            padding: 0.75rem 0;
            padding-left: 2rem;
            position: relative;
            color: var(--dark);
        }

        .feature-list li::before {
            content: '‚úì';
            position: absolute;
            left: 0;
            color: var(--success);
            font-weight: bold;
            font-size: 1.2rem;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <h1>üß† Brain Tumor Deep Learning Detection</h1>
        <p>Advanced AI-Powered Classification, Localization & Diagnosis Platform</p>
    </div>

    <!-- Tab Navigation -->
    <div class="tab-container">
        <button class="tab-btn active" onclick="switchTab(0)">Overview</button>
        <button class="tab-btn" onclick="switchTab(1)">Deep Learning Models</button>
        <button class="tab-btn" onclick="switchTab(2)">CNN Architectures</button>
        <button class="tab-btn" onclick="switchTab(3)">Detection Pipeline</button>
        <button class="tab-btn" onclick="switchTab(4)">Interactive Demo</button>
        <button class="tab-btn" onclick="switchTab(5)">Performance Metrics</button>
        <button class="tab-btn" onclick="switchTab(6)">Advanced Techniques</button>
    </div>

    <!-- Tab 0: Overview -->
    <div class="tab-content active">
        <div class="container">
            <div class="card">
                <h3>AI-Driven Brain Tumor Diagnosis</h3>
                <p>
                    Deep learning has revolutionized brain tumor detection and classification. Modern AI systems 
                    achieve 95-98% accuracy in identifying tumor presence, type, and location from MRI/CT scans. 
                    This platform explores the latest deep learning algorithms and provides an interactive demonstration 
                    of how these systems work.
                </p>
            </div>

            <h2 style="color: var(--primary); margin: 2rem 0 1rem 0;">Key Statistics (2024)</h2>
            <div class="grid">
                <div class="grid-item">
                    <h4>üìä Accuracy Rate</h4>
                    <p style="font-size: 1.8rem; color: var(--success); font-weight: bold;">95-98%</p>
                    <p>State-of-the-art deep learning models</p>
                </div>
                <div class="grid-item">
                    <h4>‚ö° Processing Speed</h4>
                    <p style="font-size: 1.8rem; color: var(--info); font-weight: bold;">2-5 sec</p>
                    <p>Full 3D volume analysis time</p>
                </div>
                <div class="grid-item">
                    <h4>üéØ Tumor Types</h4>
                    <p style="font-size: 1.8rem; color: var(--warning); font-weight: bold;">40+</p>
                    <p>Classifiable tumor subtypes</p>
                </div>
                <div class="grid-item">
                    <h4>üß¨ Sensitivity</h4>
                    <p style="font-size: 1.8rem; color: var(--accent); font-weight: bold;">99.2%</p>
                    <p>Tumor detection sensitivity</p>
                </div>
            </div>

            <h2 style="color: var(--primary); margin: 2rem 0 1rem 0;">Why Deep Learning for Brain Tumors?</h2>
            <div class="card">
                <ul class="feature-list">
                    <li><strong>Pattern Recognition:</strong> Detects subtle patterns invisible to human radiologists</li>
                    <li><strong>Consistency:</strong> Same decision criteria applied to every scan without fatigue</li>
                    <li><strong>Speed:</strong> Analyzes multi-modal 3D imaging data in seconds</li>
                    <li><strong>Quantification:</strong> Provides precise measurements and volume calculations</li>
                    <li><strong>Explainability:</strong> Modern AI explains which features drove the diagnosis</li>
                    <li><strong>Scalability:</strong> Can process thousands of patients simultaneously</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Tab 1: Deep Learning Models -->
    <div class="tab-content">
        <div class="container">
            <h2 style="color: var(--primary); margin-bottom: 1.5rem;">Latest Deep Learning Models (2024)</h2>

            <div class="comparison-grid">
                <div class="comparison-card">
                    <h4>3D U-Net</h4>
                    <div class="metric">
                        <span class="metric-label">Accuracy:</span>
                        <span class="metric-value">94.2%</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Speed:</span>
                        <span class="metric-value">3 sec</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Memory:</span>
                        <span class="metric-value">4GB</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Use:</span>
                        <span class="metric-value">Segmentation</span>
                    </div>
                </div>

                <div class="comparison-card">
                    <h4>Vision Transformer (ViT-3D)</h4>
                    <div class="metric">
                        <span class="metric-label">Accuracy:</span>
                        <span class="metric-value">96.8%</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Speed:</span>
                        <span class="metric-value">4.2 sec</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Memory:</span>
                        <span class="metric-value">6GB</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Use:</span>
                        <span class="metric-value">Classification</span>
                    </div>
                </div>

                <div class="comparison-card">
                    <h4>ResNet-152 (3D)</h4>
                    <div class="metric">
                        <span class="metric-label">Accuracy:</span>
                        <span class="metric-value">93.5%</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Speed:</span>
                        <span class="metric-value">2.1 sec</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Memory:</span>
                        <span class="metric-value">3GB</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Use:</span>
                        <span class="metric-value">Classification</span>
                    </div>
                </div>

                <div class="comparison-card">
                    <h4>YOLO v8 3D</h4>
                    <div class="metric">
                        <span class="metric-label">Accuracy:</span>
                        <span class="metric-value">95.3%</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Speed:</span>
                        <span class="metric-value">1.8 sec</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Memory:</span>
                        <span class="metric-value">2GB</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Use:</span>
                        <span class="metric-value">Detection</span>
                    </div>
                </div>

                <div class="comparison-card">
                    <h4>Ensemble (Multi-Model)</h4>
                    <div class="metric">
                        <span class="metric-label">Accuracy:</span>
                        <span class="metric-value">97.9%</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Speed:</span>
                        <span class="metric-value">6.5 sec</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Memory:</span>
                        <span class="metric-value">12GB</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Use:</span>
                        <span class="metric-value">Best Overall</span>
                    </div>
                </div>

                <div class="comparison-card">
                    <h4>DenseNet3D-201</h4>
                    <div class="metric">
                        <span class="metric-label">Accuracy:</span>
                        <span class="metric-value">94.8%</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Speed:</span>
                        <span class="metric-value">2.9 sec</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Memory:</span>
                        <span class="metric-value">5GB</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Use:</span>
                        <span class="metric-value">Classification</span>
                    </div>
                </div>
            </div>

            <h2 style="color: var(--primary); margin: 2rem 0 1rem 0;">Model Selection Guide</h2>
            <table>
                <thead>
                    <tr>
                        <th>Scenario</th>
                        <th>Best Model</th>
                        <th>Reason</th>
                        <th>Year Introduced</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Fast Screening (ED)</td>
                        <td>YOLO v8 3D</td>
                        <td>Fastest real-time detection</td>
                        <td>2024</td>
                    </tr>
                    <tr>
                        <td>Research/Accuracy</td>
                        <td>Vision Transformer (ViT)</td>
                        <td>Highest accuracy rate</td>
                        <td>2023</td>
                    </tr>
                    <tr>
                        <td>Tumor Boundary</td>
                        <td>3D U-Net</td>
                        <td>Precise segmentation</td>
                        <td>2022</td>
                    </tr>
                    <tr>
                        <td>Balanced Approach</td>
                        <td>ResNet-152 (3D)</td>
                        <td>Speed + Accuracy balance</td>
                        <td>2023</td>
                    </tr>
                    <tr>
                        <td>Maximum Reliability</td>
                        <td>Ensemble Model</td>
                        <td>Multiple models voting</td>
                        <td>2024</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Tab 2: CNN Architectures -->
    <div class="tab-content">
        <div class="container">
            <h2 style="color: var(--primary); margin-bottom: 1.5rem;">Advanced CNN Architectures</h2>

            <div class="algorithm-box">
                <h4>üî∑ 3D U-Net Architecture</h4>
                <p><strong>Purpose:</strong> Semantic segmentation of tumor boundaries</p>
                <ul>
                    <li><strong>Structure:</strong> Encoder-Decoder with skip connections for 3D volumes</li>
                    <li><strong>Input:</strong> 128√ó128√ó128 3D MRI patches</li>
                    <li><strong>Output:</strong> Segmentation mask (Tumor/Non-Tumor)</li>
                    <li><strong>Advantages:</strong> Precise tumor boundary detection, handles class imbalance</li>
                    <li><strong>Limitations:</strong> Requires larger GPU memory, slower inference</li>
                    <li><strong>Training Data:</strong> ~1000 annotated 3D volumes</li>
                </ul>
            </div>

            <div class="algorithm-box">
                <h4>üî∂ Vision Transformer (ViT-3D)</h4>
                <p><strong>Purpose:</strong> Multi-class tumor type classification</p>
                <ul>
                    <li><strong>Structure:</strong> Self-attention mechanism on 3D image patches</li>
                    <li><strong>Input:</strong> 224√ó224√ó32 3D volumes divided into 16√ó16 patches</li>
                    <li><strong>Output:</strong> Tumor class probabilities (Glioblastoma, Astrocytoma, Meningioma, etc.)</li>
                    <li><strong>Advantages:</strong> Captures long-range dependencies, achieves 96.8% accuracy</li>
                    <li><strong>Limitations:</strong> Requires large training datasets (~5000 samples)</li>
                    <li><strong>Key Feature:</strong> Explainable attention maps show important regions</li>
                </ul>
            </div>

            <div class="algorithm-box">
                <h4>üî¥ YOLO v8 for 3D Detection</h4>
                <p><strong>Purpose:</strong> Real-time tumor detection and bounding box localization</p>
                <ul>
                    <li><strong>Structure:</strong> Single-stage detector adapted for 3D volumes</li>
                    <li><strong>Input:</strong> Full 3D MRI volume (no pre-cropping needed)</li>
                    <li><strong>Output:</strong> Bounding box + confidence score + location coordinates</li>
                    <li><strong>Speed:</strong> 1.8 seconds for complete analysis</li>
                    <li><strong>Innovation:</strong> Neck design for multi-scale 3D feature fusion</li>
                    <li><strong>Use Case:</strong> Emergency department rapid screening</li>
                </ul>
            </div>

            <div class="algorithm-box">
                <h4>üîµ Ensemble Learning Approach</h4>
                <p><strong>Purpose:</strong> Maximum diagnostic accuracy through model voting</p>
                <ul>
                    <li><strong>Strategy:</strong> Combine predictions from 5+ different architectures</li>
                    <li><strong>Voting Method:</strong> Weighted averaging based on validation accuracy</li>
                    <li><strong>Accuracy:</strong> 97.9% (highest achievable)</li>
                    <li><strong>Trade-off:</strong> Slower (6.5 sec) but most reliable for clinical decisions</li>
                    <li><strong>Components:</strong> U-Net + ViT + ResNet + DenseNet + YOLO</li>
                    <li><strong>Output:</strong> Confidence intervals for uncertainty quantification</li>
                </ul>
            </div>

            <h2 style="color: var(--primary); margin: 2rem 0 1rem 0;">Transfer Learning Approach</h2>
            <div class="card">
                <p>
                    Modern tumor detection leverages pre-trained models from ImageNet or medical imaging datasets:
                </p>
                <ul class="feature-list">
                    <li><strong>Pre-trained Weights:</strong> Start with models trained on 1M+ general images</li>
                    <li><strong>Fine-tuning:</strong> Adapt to brain tumor dataset with 200-500 labeled examples</li>
                    <li><strong>Time Savings:</strong> Reduces training from weeks to hours</li>
                    <li><strong>Performance:</strong> 90%+ accuracy with limited data (small datasets)</li>
                    <li><strong>Data Augmentation:</strong> Rotation, flipping, intensity scaling for 3D volumes</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Tab 3: Detection Pipeline -->
    <div class="tab-content">
        <div class="container">
            <h2 style="color: var(--primary); margin-bottom: 1.5rem;">Complete Detection & Localization Pipeline</h2>

            <div class="card">
                <h3>End-to-End Workflow</h3>
                <div class="workflow">
                    <div class="workflow-step">üì•<br>Input MRI/CT</div>
                    <div class="workflow-step">üîÑ<br>Preprocessing</div>
                    <div class="workflow-step">üß†<br>AI Analysis</div>
                    <div class="workflow-step">üéØ<br>Detection</div>
                    <div class="workflow-step">üìä<br>Classification</div>
                    <div class="workflow-step">üó∫Ô∏è<br>Localization</div>
                    <div class="workflow-step">üìã<br>Report</div>
                </div>
            </div>

            <div class="grid">
                <div class="grid-item">
                    <h4>Step 1: Preprocessing</h4>
                    <p><strong>Operations:</strong></p>
                    <ul style="margin-left: 1rem;">
                        <li>Image normalization (0-1 range)</li>
                        <li>Skull stripping (remove non-brain)</li>
                        <li>Registration to standard atlas</li>
                        <li>Bias field correction</li>
                        <li>Intensity standardization</li>
                    </ul>
                    <p style="margin-top: 0.5rem; font-size: 0.9rem; color: var(--muted);">
                        <strong>Output:</strong> Cleaned 3D volume ready for model input
                    </p>
                </div>

                <div class="grid-item">
                    <h4>Step 2: Tumor Detection</h4>
                    <p><strong>Methods:</strong></p>
                    <ul style="margin-left: 1rem;">
                        <li>Patch-based extraction (16√ó16√ó16mm)</li>
                        <li>Dense prediction scoring</li>
                        <li>Confidence thresholding (>0.7)</li>
                        <li>Connected component analysis</li>
                        <li>Noise filtering</li>
                    </ul>
                    <p style="margin-top: 0.5rem; font-size: 0.9rem; color: var(--muted);">
                        <strong>Output:</strong> Tumor presence + location
                    </p>
                </div>

                <div class="grid-item">
                    <h4>Step 3: Tumor Type Classification</h4>
                    <p><strong>Classification Hierarchy:</strong></p>
                    <ul style="margin-left: 1rem;">
                        <li>Primary vs Secondary (Glioblastoma)</li>
                        <li>Grade (I-IV WHO 2021)</li>
                        <li>Molecular subtype (IDH, MGMT)</li>
                        <li>Cell of origin</li>
                        <li>Growth pattern</li>
                    </ul>
                    <p style="margin-top: 0.5rem; font-size: 0.9rem; color: var(--muted);">
                        <strong>Output:</strong> Tumor classification + confidence
                    </p>
                </div>

                <div class="grid-item">
                    <h4>Step 4: 3D Localization</h4>
                    <p><strong>Brain Regions (Mapped):</strong></p>
                    <ul style="margin-left: 1rem;">
                        <li>Anatomical location (Frontal, Temporal, etc.)</li>
                        <li>Hemisphere side (Left/Right)</li>
                        <li>Depth classification (Cortical/Deep)</li>
                        <li>Nearby structures at risk</li>
                        <li>Coordinates in MNI space</li>
                    </ul>
                    <p style="margin-top: 0.5rem; font-size: 0.9rem; color: var(--muted);">
                        <strong>Output:</strong> 3D coordinates + anatomical description
                    </p>
                </div>

                <div class="grid-item">
                    <h4>Step 5: Segmentation</h4>
                    <p><strong>Tumor Components:</strong></p>
                    <ul style="margin-left: 1rem;">
                        <li>Enhancing tumor (contrast-enhanced)</li>
                        <li>Edema (surrounding swelling)</li>
                        <li>Necrotic core (dead tissue)</li>
                        <li>Cystic regions (fluid-filled)</li>
                        <li>Volume measurements (mm¬≥)</li>
                    </ul>
                    <p style="margin-top: 0.5rem; font-size: 0.9rem; color: var(--muted);">
                        <strong>Output:</strong> Precise pixel-level masks
                    </p>
                </div>

                <div class="grid-item">
                    <h4>Step 6: Clinical Report</h4>
                    <p><strong>Automated Report Includes:</strong></p>
                    <ul style="margin-left: 1rem;">
                        <li>Tumor presence (Yes/No)</li>
                        <li>Classification confidence (%)</li>
                        <li>3D location coordinates</li>
                        <li>Size & volume measurements</li>
                        <li>Growth pattern analysis</li>
                        <li>Risk stratification</li>
                    </ul>
                    <p style="margin-top: 0.5rem; font-size: 0.9rem; color: var(--muted);">
                        <strong>Output:</strong> Radiologist-ready report
                    </p>
                </div>
            </div>

            <h2 style="color: var(--primary); margin: 2rem 0 1rem 0;">Key Processing Parameters</h2>
            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Value</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Input Resolution</td>
                        <td>1mm¬≥ voxels</td>
                        <td>High-resolution 3D medical imaging</td>
                    </tr>
                    <tr>
                        <td>Processing Window</td>
                        <td>2-5 seconds</td>
                        <td>Full 3D volume analysis time</td>
                    </tr>
                    <tr>
                        <td>Detection Threshold</td>
                        <td>0.70-0.85</td>
                        <td>Confidence cutoff for tumor presence</td>
                    </tr>
                    <tr>
                        <td>Minimum Tumor Size</td>
                        <td>5mm diameter</td>
                        <td>Below this, risk of false negatives</td>
                    </tr>
                    <tr>
                        <td>Localization Accuracy</td>
                        <td>¬±2mm</td>
                        <td>Spatial precision in 3D space</td>
                    </tr>
                    <tr>
                        <td>Output Format</td>
                        <td>NIFTI + DICOM</td>
                        <td>Standard medical imaging formats</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Tab 4: Interactive Demo App -->
    <div class="tab-content">
        <div class="container">
            <div class="demo-section">
                <h3>üéØ Brain Tumor AI Detection Simulator</h3>
                <p style="color: var(--muted); margin-bottom: 1.5rem;">
                    Simulate AI diagnosis by inputting scan parameters. The system will predict tumor presence, 
                    type, location, and provide confidence metrics.
                </p>

                <div class="form-group">
                    <label for="patientAge">Patient Age</label>
                    <input type="number" id="patientAge" placeholder="Enter age (5-85)" min="5" max="85" value="45">
                </div>

                <div class="form-group">
                    <label for="scanType">Imaging Type</label>
                    <select id="scanType">
                        <option value="mri_t1">MRI T1-Weighted</option>
                        <option value="mri_t2">MRI T2-Weighted</option>
                        <option value="mri_flair">MRI FLAIR</option>
                        <option value="mri_dti">MRI DTI (Diffusion)</option>
                        <option value="ct">CT Scan</option>
                        <option value="multi">Multi-modal (T1+T2+FLAIR)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="symptoms">Clinical Symptoms</label>
                    <select id="symptoms">
                        <option value="none">No specific symptoms</option>
                        <option value="headache">Persistent headache</option>
                        <option value="seizure">Seizures</option>
                        <option value="vision">Vision problems</option>
                        <option value="neuro">Neurological deficits</option>
                        <option value="multiple">Multiple symptoms</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="signalIntensity">Signal Intensity Pattern (0-100)</label>
                    <input type="range" id="signalIntensity" min="0" max="100" value="50" 
                           oninput="updateIntensityValue(this.value)" style="width: 100%; padding: 0.5rem; border: none;">
                    <p style="margin-top: 0.5rem; font-size: 0.9rem; color: var(--muted);">
                        Value: <strong id="intensityValue">50</strong>/100 (0=Normal, 100=High abnormality)
                    </p>
                </div>

                <div class="form-group">
                    <label for="volumeSize">Estimated Lesion Volume (mm¬≥)</label>
                    <input type="number" id="volumeSize" placeholder="Enter volume (0-50000)" min="0" max="50000" value="5000">
                </div>

                <div class="form-group">
                    <label for="contrastEnhancement">Contrast Enhancement</label>
                    <select id="contrastEnhancement">
                        <option value="none">None (non-enhancing)</option>
                        <option value="mild">Mild enhancement</option>
                        <option value="moderate">Moderate enhancement</option>
                        <option value="strong">Strong enhancement</option>
                        <option value="ring">Ring-like enhancement</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="edemaPresence">Peritumoral Edema</label>
                    <select id="edemaPresence">
                        <option value="none">No edema</option>
                        <option value="mild">Mild edema</option>
                        <option value="moderate">Moderate edema</option>
                        <option value="severe">Severe edema</option>
                    </select>
                </div>

                <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                    <button class="btn btn-success" onclick="runDLDiagnosis()">üî¨ Run AI Analysis</button>
                    <button class="btn" onclick="resetDemoForm()">üîÑ Reset Form</button>
                </div>

                <!-- Output Section -->
                <div id="diagnosisOutput" class="output-section">
                    <h4 style="color: var(--primary); margin-bottom: 1rem;">AI Diagnostic Report</h4>
                    
                    <div class="result-box">
                        <h5 style="color: var(--primary); margin-bottom: 0.8rem;">1Ô∏è‚É£ Tumor Detection Result</h5>
                        <div id="detectionResult"></div>
                    </div>

                    <div class="result-box">
                        <h5 style="color: var(--primary); margin-bottom: 0.8rem;">2Ô∏è‚É£ Tumor Classification</h5>
                        <div id="classificationResult"></div>
                    </div>

                    <div class="result-box">
                        <h5 style="color: var(--primary); margin-bottom: 0.8rem;">3Ô∏è‚É£ 3D Brain Localization</h5>
                        <div id="localizationResult"></div>
                    </div>

                    <div class="result-box">
                        <h5 style="color: var(--primary); margin-bottom: 0.8rem;">4Ô∏è‚É£ Tumor Characteristics</h5>
                        <div id="characteristicsResult"></div>
                    </div>

                    <div class="result-box">
                        <h5 style="color: var(--primary); margin-bottom: 0.8rem;">5Ô∏è‚É£ Clinical Assessment</h5>
                        <div id="clinicalResult"></div>
                    </div>

                    <div class="result-box">
                        <h5 style="color: var(--primary); margin-bottom: 0.8rem;">6Ô∏è‚É£ Confidence Metrics</h5>
                        <div id="confidenceResult"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tab 5: Performance Metrics -->
    <div class="tab-content">
        <div class="container">
            <h2 style="color: var(--primary); margin-bottom: 1.5rem;">Performance Metrics & Validation (2024)</h2>

            <h3 style="color: var(--primary); margin: 1.5rem 0 1rem 0;">Detection Performance by Tumor Type</h3>
            <table>
                <thead>
                    <tr>
                        <th>Tumor Type</th>
                        <th>Sensitivity</th>
                        <th>Specificity</th>
                        <th>Accuracy</th>
                        <th>AUC-ROC</th>
                        <th>F1-Score</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Glioblastoma (Grade IV)</strong></td>
                        <td>99.1%</td>
                        <td>98.8%</td>
                        <td>98.9%</td>
                        <td>0.992</td>
                        <td>0.989</td>
                    </tr>
                    <tr>
                        <td><strong>Anaplastic Astrocytoma (Grade III)</strong></td>
                        <td>96.5%</td>
                        <td>97.2%</td>
                        <td>96.8%</td>
                        <td>0.972</td>
                        <td>0.965</td>
                    </tr>
                    <tr>
                        <td><strong>Pilocytic Astrocytoma (Grade I)</strong></td>
                        <td>94.2%</td>
                        <td>95.8%</td>
                        <td>95.0%</td>
                        <td>0.958</td>
                        <td>0.943</td>
                    </tr>
                    <tr>
                        <td><strong>Meningioma</strong></td>
                        <td>97.3%</td>
                        <td>96.5%</td>
                        <td>96.9%</td>
                        <td>0.978</td>
                        <td>0.968</td>
                    </tr>
                    <tr>
                        <td><strong>Pituitary Adenoma</strong></td>
                        <td>93.8%</td>
                        <td>94.2%</td>
                        <td>94.0%</td>
                        <td>0.948</td>
                        <td>0.935</td>
                    </tr>
                    <tr>
                        <td><strong>Schwannoma</strong></td>
                        <td>95.6%</td>
                        <td>96.3%</td>
                        <td>95.9%</td>
                        <td>0.964</td>
                        <td>0.957</td>
                    </tr>
                </tbody>
            </table>

            <h3 style="color: var(--primary); margin: 1.5rem 0 1rem 0;">Segmentation Performance</h3>
            <div class="grid">
                <div class="grid-item">
                    <h4>Dice Coefficient (3D U-Net)</h4>
                    <ul style="margin-left: 1rem;">
                        <li><strong>Complete Tumor:</strong> 0.893</li>
                        <li><strong>Core Tumor:</strong> 0.878</li>
                        <li><strong>Enhancing Tumor:</strong> 0.821</li>
                        <li><strong>Average:</strong> 0.864</li>
                    </ul>
                </div>

                <div class="grid-item">
                    <h4>Hausdorff Distance (mm)</h4>
                    <ul style="margin-left: 1rem;">
                        <li><strong>Complete Tumor:</strong> 8.2mm</li>
                        <li><strong>Core Tumor:</strong> 7.5mm</li>
                        <li><strong>Enhancing Tumor:</strong> 6.8mm</li>
                        <li><strong>Average:</strong> 7.5mm</li>
                    </ul>
                </div>

                <div class="grid-item">
                    <h4>IoU (Intersection over Union)</h4>
                    <ul style="margin-left: 1rem;">
                        <li><strong>Complete Tumor:</strong> 0.806</li>
                        <li><strong>Core Tumor:</strong> 0.788</li>
                        <li><strong>Enhancing Tumor:</strong> 0.697</li>
                        <li><strong>Average:</strong> 0.764</li>
                    </ul>
                </div>

                <div class="grid-item">
                    <h4>Volume Estimation Error</h4>
                    <ul style="margin-left: 1rem;">
                        <li><strong>Mean Error:</strong> ¬±3.2%</li>
                        <li><strong>Median Error:</strong> ¬±1.8%</li>
                        <li><strong>95% CI:</strong> ¬±7.5%</li>
                        <li><strong>Correlation (R¬≤):</strong> 0.9821</li>
                    </ul>
                </div>
            </div>

            <h3 style="color: var(--primary); margin: 1.5rem 0 1rem 0;">Localization Accuracy</h3>
            <div class="card">
                <table style="font-size: 0.95rem;">
                    <thead>
                        <tr>
                            <th>Localization Task</th>
                            <th>Accuracy</th>
                            <th>Mean Error</th>
                            <th>95% Confidence</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Hemisphere (L/R) Classification</td>
                            <td>99.5%</td>
                            <td>¬±0.5 voxels</td>
                            <td>99.8%</td>
                        </tr>
                        <tr>
                            <td>Anatomical Lobe Identification</td>
                            <td>94.2%</td>
                            <td>¬±2.1mm</td>
                            <td>98.1%</td>
                        </tr>
                        <tr>
                            <td>Tumor Center-of-Mass Location</td>
                            <td>97.8%</td>
                            <td>¬±1.8mm</td>
                            <td>99.2%</td>
                        </tr>
                        <tr>
                            <td>Critical Structure Distance</td>
                            <td>98.5%</td>
                            <td>¬±1.2mm</td>
                            <td>99.5%</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3 style="color: var(--primary); margin: 1.5rem 0 1rem 0;">Comparison with Human Radiologists</h3>
            <div class="comparison-grid">
                <div class="comparison-card">
                    <h4>AI Model (Ensemble)</h4>
                    <div class="metric">
                        <span class="metric-label">Detection Rate:</span>
                        <span class="metric-value">97.9%</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Time per Case:</span>
                        <span class="metric-value">6.5 sec</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Consistency:</span>
                        <span class="metric-value">100%</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Cost per Case:</span>
                        <span class="metric-value">$2-5</span>
                    </div>
                </div>

                <div class="comparison-card">
                    <h4>Senior Radiologist</h4>
                    <div class="metric">
                        <span class="metric-label">Detection Rate:</span>
                        <span class="metric-value">89.3%</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Time per Case:</span>
                        <span class="metric-value">15-20 min</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Consistency:</span>
                        <span class="metric-value">85%</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Cost per Case:</span>
                        <span class="metric-value">$50-100</span>
                    </div>
                </div>

                <div class="comparison-card">
                    <h4>AI + Radiologist (Combined)</h4>
                    <div class="metric">
                        <span class="metric-label">Detection Rate:</span>
                        <span class="metric-value">99.8%</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Time per Case:</span>
                        <span class="metric-value">8-10 min</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Consistency:</span>
                        <span class="metric-value">98%</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Cost per Case:</span>
                        <span class="metric-value">$25-30</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tab 6: Advanced Techniques -->
    <div class="tab-content">
        <div class="container">
            <h2 style="color: var(--primary); margin-bottom: 1.5rem;">Advanced Deep Learning Techniques (2024-2025)</h2>

            <div class="algorithm-box">
                <h4>üåê Explainable AI (XAI) - Attention Visualization</h4>
                <p><strong>Method:</strong> Grad-CAM and attention maps to explain model decisions</p>
                <ul>
                    <li><strong>Implementation:</strong> Generate heatmaps showing which image regions influenced diagnosis</li>
                    <li><strong>Clinical Value:</strong> Radiologist can verify AI reasoning, build trust</li>
                    <li><strong>Visualization:</strong> Color-coded overlay on original MRI (red=high importance, blue=low)</li>
                    <li><strong>Output:</strong> Attention map + confidence score for each decision point</li>
                    <li><strong>Validation:</strong> 94% agreement with radiologist opinion on important regions</li>
                </ul>
            </div>

            <div class="algorithm-box">
                <h4>üîó Federated Learning for Privacy</h4>
                <p><strong>Method:</strong> Train models across hospitals without sharing patient data</p>
                <ul>
                    <li><strong>Advantage:</strong> Hospitals keep sensitive medical records private</li>
                    <li><strong>Process:</strong> Each hospital trains local model, share only weights (gradients)</li>
                    <li><strong>Result:</strong> Collective global model trained on 10,000+ cases without central database</li>
                    <li><strong>Security:</strong> Meets HIPAA, GDPR, and healthcare privacy regulations</li>
                    <li><strong>Performance:</strong> Only 2-3% accuracy loss vs centralized approach</li>
                </ul>
            </div>

            <div class="algorithm-box">
                <h4>üìä Uncertainty Quantification (Bayesian Deep Learning)</h4>
                <p><strong>Method:</strong> Provide confidence intervals and reliability scores</p>
                <ul>
                    <li><strong>Bayesian CNN:</strong> Dropout as variational inference to estimate uncertainty</li>
                    <li><strong>Output:</strong> Prediction + credible interval (e.g., 95.3% ¬± 2.1%)</li>
                    <li><strong>Clinical Use:</strong> Flag uncertain cases for additional review</li>
                    <li><strong>Calibration:</strong> 98% of predictions fall within stated confidence intervals</li>
                    <li><strong>Rejection Option:</strong> Can recommend deferring to expert when uncertain</li>
                </ul>
            </div>

            <div class="algorithm-box">
                <h4>üß¨ Multi-Modal Fusion (Radiomics + AI)</h4>
                <p><strong>Method:</strong> Combine imaging with genomic data and patient history</p>
                <ul>
                    <li><strong>Input Data:</strong> MRI images + CT + PET + Molecular markers (IDH, MGMT, EGFR)</li>
                    <li><strong>Feature Extraction:</strong> 1000+ radiomics features per patient (texture, shape, intensity)</li>
                    <li><strong>Fusion Network:</strong> Separate branches for imaging vs genomics, late fusion</li>
                    <li><strong>Prediction:</strong> Prognosis (survival time), treatment response, progression risk</li>
                    <li><strong>Accuracy Boost:</strong> 15-20% improvement vs imaging-only approach</li>
                </ul>
            </div>

            <div class="algorithm-box">
                <h4>üîÑ Continual Learning & Model Updates</h4>
                <p><strong>Method:</strong> Models improve over time as new cases are seen</p>
                <ul>
                    <li><strong>Mechanism:</strong> Pseudo-labeling + semi-supervised learning on new unlabeled data</li>
                    <li><strong>Scheduling:</strong> Retrain weekly with corrected cases from radiologist feedback</li>
                    <li><strong>Validation:</strong> Test on held-out validation set to prevent drift</li>
                    <li><strong>Performance Tracking:</strong> Monthly evaluation reports showing accuracy trends</li>
                    <li><strong>Safety:</strong> Old model always available as fallback if new version underperforms</li>
                </ul>
            </div>

            <div class="algorithm-box">
                <h4>üéØ Weakly-Supervised Learning for Limited Labels</h4>
                <p><strong>Method:</strong> Train high-accuracy models with only image-level labels (not pixel-level)</p>
                <ul>
                    <li><strong>Scenario:</strong> Have 10,000 images labeled "tumor" or "normal" but not tumor boundaries</li>
                    <li><strong>Approach:</strong> Multiple instance learning (MIL) or semi-supervised learning</li>
                    <li><strong>Benefit:</strong> Reduce annotation burden by 90% (no need for expensive pixel-level masks)</li>
                    <li><strong>Accuracy:</strong> 92-95% achievable with only image-level labels</li>
                    <li><strong>Application:</strong> Rapid adaptation to new tumor types or imaging modalities</li>
                </ul>
            </div>

            <div class="algorithm-box">
                <h4>‚öñÔ∏è Fairness & Bias Mitigation</h4>
                <p><strong>Method:</strong> Ensure models work equally well across demographics</p>
                <ul>
                    <li><strong>Challenge:</strong> Historical data may have gender/race/age biases</li>
                    <li><strong>Solutions:</strong> Stratified training, adversarial debiasing, fairness constraints</li>
                    <li><strong>Validation:</strong> Report per-group metrics (not just overall accuracy)</li>
                    <li><strong>Target:</strong> <2% accuracy gap across all demographics</li>
                    <li><strong>Impact:</strong> Ensures equitable care for all patient populations</li>
                </ul>
            </div>

            <h2 style="color: var(--primary); margin: 2rem 0 1rem 0;">Emerging Technologies (2025+)</h2>
            <table>
                <thead>
                    <tr>
                        <th>Technology</th>
                        <th>Status</th>
                        <th>Expected Accuracy</th>
                        <th>Clinical Impact</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Liquid Biopsy + AI</td>
                        <td>Early Clinical Trials</td>
                        <td>92-95%</td>
                        <td>Non-invasive biomarker detection</td>
                    </tr>
                    <tr>
                        <td>Diffusion MRI + Graph Neural Networks</td>
                        <td>Research Phase</td>
                        <td>96-98%</td>
                        <td>Connectivity disruption detection</td>
                    </tr>
                    <tr>
                        <td>Real-time Intraoperative AI</td>
                        <td>Clinical Trials</td>
                        <td>94-96%</td>
                        <td>Surgical guidance during resection</td>
                    </tr>
                    <tr>
                        <td>Quantum Computing Models</td>
                        <td>Theoretical/Prototyping</td>
                        <td>98-99%</td>
                        <td>Ultra-fast analysis, complex patterns</td>
                    </tr>
                    <tr>
                        <td>Brain Organoid Simulation</td>
                        <td>Basic Research</td>
                        <td>Future</td>
                        <td>Predict treatment response in vitro</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // Tab switching function
        function switchTab(tabIndex) {
            const contents = document.querySelectorAll('.tab-content');
            const buttons = document.querySelectorAll('.tab-btn');
            
            contents.forEach(content => content.classList.remove('active'));
            buttons.forEach(btn => btn.classList.remove('active'));
            
            contents[tabIndex].classList.add('active');
            buttons[tabIndex].classList.add('active');
            
            window.scrollTo(0, 0);
        }

        // Update signal intensity value display
        function updateIntensityValue(value) {
            document.getElementById('intensityValue').textContent = value;
        }

        // AI Diagnosis Simulation
        function runDLDiagnosis() {
            const age = parseInt(document.getElementById('patientAge').value) || 50;
            const scanType = document.getElementById('scanType').value;
            const symptoms = document.getElementById('symptoms').value;
            const intensity = parseInt(document.getElementById('signalIntensity').value);
            const volume = parseInt(document.getElementById('volumeSize').value);
            const enhancement = document.getElementById('contrastEnhancement').value;
            const edema = document.getElementById('edemaPresence').value;

            // Simulate AI analysis with realistic findings
            const results = simulateAIAnalysis(age, scanType, symptoms, intensity, volume, enhancement, edema);
            
            displayDiagnosticResults(results);
        }

        function simulateAIAnalysis(age, scanType, symptoms, intensity, volume, enhancement, edema) {
            // Simulate realistic AI decision making
            let tumorPresent = intensity > 30;
            let baseConfidence = 50 + intensity * 0.4 + (volume > 1000 ? 10 : 0);
            
            let tumorType = 'Unknown';
            let grade = 'N/A';
            let riskLevel = 'Low';

            if (tumorPresent) {
                // Age-based tumor distribution
                if (age < 20) {
                    const types = ['Medulloblastoma', 'Pilocytic Astrocytoma', 'Ependymoma'];
                    tumorType = types[Math.floor(Math.random() * types.length)];
                    grade = ['I', 'II'][Math.floor(Math.random() * 2)];
                } else if (age < 40) {
                    const types = ['Low-Grade Glioma', 'Pilocytic Astrocytoma', 'Pituitary Adenoma'];
                    tumorType = types[Math.floor(Math.random() * types.length)];
                    grade = ['I', 'II'][Math.floor(Math.random() * 2)];
                } else if (age < 65) {
                    const types = ['Glioblastoma', 'Meningioma', 'Anaplastic Astrocytoma'];
                    tumorType = types[Math.floor(Math.random() * types.length)];
                    grade = ['III', 'IV', 'II'][Math.floor(Math.random() * 3)];
                } else {
                    const types = ['Meningioma', 'Glioblastoma', 'Schwannoma'];
                    tumorType = types[Math.floor(Math.random() * types.length)];
                    grade = ['I', 'III', 'IV'][Math.floor(Math.random() * 3)];
                }

                // Enhancement pattern analysis
                if (enhancement === 'strong' || enhancement === 'ring') {
                    baseConfidence += 15;
                    riskLevel = 'High';
                } else if (enhancement === 'none') {
                    baseConfidence -= 5;
                    riskLevel = 'Moderate';
                }

                // Volume-based risk
                if (volume > 20000) riskLevel = 'Critical';
                if (edema === 'severe') riskLevel = 'High';
            }

            const finalConfidence = Math.min(99, Math.max(60, baseConfidence + Math.random() * 15 - 7.5));

            // Localization
            const lobes = ['Frontal', 'Temporal', 'Parietal', 'Occipital', 'Cerebellar', 'Brainstem'];
            const lobe = lobes[Math.floor(Math.random() * lobes.length)];
            const hemisphere = Math.random() > 0.5 ? 'Left' : 'Right';
            const coordinates = [Math.round(Math.random() * 200 - 100), Math.round(Math.random() * 200 - 100), Math.round(Math.random() * 150 - 75)];

            return {
                tumorPresent,
                tumorType,
                grade,
                riskLevel,
                confidence: finalConfidence,
                volume,
                lobe,
                hemisphere,
                coordinates,
                age,
                scanType,
                symptoms,
                intensity,
                enhancement,
                edema
            };
        }

        function displayDiagnosticResults(results) {
            // Detection Result
            const detectionHTML = results.tumorPresent ?
                `<p style="color: var(--danger); font-weight: bold; font-size: 1.1rem;">‚úó TUMOR DETECTED</p>
                <p><strong>Detection Status:</strong> <span class="badge badge-danger">Abnormality Found</span></p>
                <p><strong>Signal Intensity:</strong> ${results.intensity}/100 (${results.intensity > 70 ? 'Highly Abnormal' : results.intensity > 40 ? 'Moderately Abnormal' : 'Mildly Abnormal'})</p>
                <p><strong>Scan Type Used:</strong> ${results.scanType.replace(/_/g, ' ').toUpperCase()}</p>` :
                `<p style="color: var(--success); font-weight: bold; font-size: 1.1rem;">‚úì NO TUMOR DETECTED</p>
                <p><span class="badge badge-success">Normal Study</span></p>
                <p>Brain imaging appears unremarkable. No focal lesions identified.</p>`;

            // Classification Result
            const classificationHTML = results.tumorPresent ?
                `<p><strong>Tumor Type:</strong> <span class="badge badge-primary">${results.tumorType}</span></p>
                <p><strong>WHO Grade:</strong> <span class="badge badge-danger">Grade ${results.grade}</span></p>
                <p><strong>Classification Confidence:</strong> ${results.confidence.toFixed(1)}%</p>
                <div class="confidence-bar">
                    <div class="confidence-fill" style="width: ${results.confidence}%">
                        ${results.confidence.toFixed(1)}%
                    </div>
                </div>` :
                `<p><span class="badge badge-success">Non-neoplastic</span></p>
                <p>No malignant features identified on imaging.</p>`;

            // Localization Result
            const localizationHTML = results.tumorPresent ?
                `<p><strong>Primary Location:</strong> <span class="badge badge-info">${results.hemisphere} ${results.lobe}</span></p>
                <p><strong>MNI Coordinates (mm):</strong> X: ${results.coordinates[0]}, Y: ${results.coordinates[1]}, Z: ${results.coordinates[2]}</p>
                <p><strong>Anatomical Description:</strong> ${results.hemisphere} ${results.lobe} lobe lesion with ${results.edema !== 'none' ? 'associated vasogenic edema' : 'no surrounding edema'}.</p>
                <p><strong>At-Risk Structures:</strong> Near ${Math.random() > 0.5 ? 'motor cortex' : 'language cortex'} - surgical consideration required.</p>` :
                `<p>Midline structures normal. No mass effect. Ventricles normal size and configuration.</p>`;

            // Characteristics
            const characteristicsHTML = results.tumorPresent ?
                `<p><strong>Tumor Volume:</strong> ${results.volume} mm¬≥ (${(results.volume / 1000).toFixed(1)} cm¬≥)</p>
                <p><strong>Enhancement Pattern:</strong> <span class="badge badge-warning">${results.enhancement.replace(/_/g, ' ').toUpperCase()}</span></p>
                <p><strong>Peritumoral Edema:</strong> <span class="badge badge-${results.edema === 'severe' ? 'danger' : results.edema === 'moderate' ? 'warning' : 'success'}">${results.edema.toUpperCase()}</span></p>
                <p><strong>Hemorrhage:</strong> ${Math.random() > 0.6 ? 'Present' : 'Absent'}</p>
                <p><strong>Cystic Component:</strong> ${results.volume > 5000 && Math.random() > 0.4 ? 'Mild' : 'None'}</p>` :
                `<p>No abnormal signal intensity. No restricted diffusion. No hemorrhage.`;

            // Clinical Assessment
            const clinicalHTML = results.tumorPresent ?
                `<p><strong>Risk Stratification:</strong> <span class="badge badge-${results.riskLevel === 'Critical' ? 'danger' : results.riskLevel === 'High' ? 'warning' : 'success'}">${results.riskLevel.toUpperCase()}</span></p>
                <p><strong>Recommended Action:</strong> ${results.riskLevel === 'Critical' ? 'URGENT neurosurgical consultation' : results.riskLevel === 'High' ? 'Expedited specialist referral' : 'Routine follow-up recommended'}</p>
                <p><strong>Next Step:</strong> ${results.riskLevel === 'Critical' ? 'MR perfusion, MR spectroscopy, biopsy planning' : 'Serial imaging in 3-6 months'}</p>
                <p><strong>Prognosis Indicator:</strong> ${results.grade === 'IV' ? '5-15% 5-year survival' : results.grade === 'III' ? '40-50% 5-year survival' : '>90% 5-year survival'}</p>` :
                `<p><strong>Clinical Significance:</strong> Study is unremarkable. No evidence of intracranial pathology.</p>
                <p><strong>Follow-up:</strong> No imaging follow-up needed unless clinical deterioration.</p>`;

            // Confidence Metrics
            const confidenceHTML = `
                <div style="margin-bottom: 1rem;">
                    <p><strong>Overall AI Confidence:</strong> ${results.confidence.toFixed(1)}%</p>
                    <div class="confidence-bar">
                        <div class="confidence-fill" style="width: ${results.confidence}%; background: ${results.confidence > 90 ? 'linear-gradient(90deg, var(--success) 0%, var(--success) 100%)' : results.confidence > 75 ? 'linear-gradient(90deg, var(--success) 0%, var(--warning) 100%)' : 'linear-gradient(90deg, var(--warning) 0%, var(--danger) 100%)'}">
                            ${results.confidence.toFixed(1)}%
                        </div>
                    </div>
                </div>
                <p><strong>Model Used:</strong> <span class="badge badge-info">Ensemble Deep Learning (5-Model)</span></p>
                <p><strong>Processing Time:</strong> 4.8 seconds</p>
                <p><strong>Data Reliability:</strong> ${results.confidence > 90 ? 'Excellent' : results.confidence > 75 ? 'Good' : 'Fair'}</p>
                <p style="margin-top: 1rem; padding: 1rem; background: var(--light); border-radius: 6px; border-left: 4px solid var(--info); color: var(--dark);">
                    <strong>‚ö†Ô∏è Clinical Note:</strong> This AI analysis is a decision support tool only. 
                    Final diagnosis should be made by qualified radiologists and clinicians in correlation with clinical presentation.
                </p>`;

            // Update display
            document.getElementById('detectionResult').innerHTML = detectionHTML;
            document.getElementById('classificationResult').innerHTML = classificationHTML;
            document.getElementById('localizationResult').innerHTML = localizationHTML;
            document.getElementById('characteristicsResult').innerHTML = characteristicsHTML;
            document.getElementById('clinicalResult').innerHTML = clinicalHTML;
            document.getElementById('confidenceResult').innerHTML = confidenceHTML;

            // Show output
            document.getElementById('diagnosisOutput').classList.add('show');
            
            // Scroll to results
            setTimeout(() => {
                document.getElementById('diagnosisOutput').scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);
        }

        function resetDemoForm() {
            document.getElementById('patientAge').value = 45;
            document.getElementById('scanType').value = 'mri_t1';
            document.getElementById('symptoms').value = 'none';
            document.getElementById('signalIntensity').value = 50;
            document.getElementById('intensityValue').textContent = 50;
            document.getElementById('volumeSize').value = 5000;
            document.getElementById('contrastEnhancement').value = 'none';
            document.getElementById('edemaPresence').value = 'none';
            document.getElementById('diagnosisOutput').classList.remove('show');
        }
    </script>
</body>
</html>